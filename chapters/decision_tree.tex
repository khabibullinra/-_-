\section{Что мы будем понимать под исследованиями?}


\epigraph{Проблемы начинаются не тогда, когда имея в виду одно используют разные слова, а когда используя одни и теже слова имеют в виду разное.}{хорошо бы найти оригинал}

Проведение исследований неразрывно связано с понятиями -- данные, информация, знания. Эти термины всем знакомы, кажутся самодостаточными и очевидными. Их определения и различные трактовки можно легко найти в интернете, например на \url{https://ru.wikipedia.org/}.

\marginpar{
        \href{https://ru.wikipedia.org/wiki/информация}{Информация} 
        \includegraphics[scale=0.4]{pics/qr_wikipedia_information.png} 
        \newline
        \href{https://ru.wikipedia.org/wiki/данные}{Данные} 
        \includegraphics[scale=0.4]{pics/qr_wikipedia_data.png}}

Следствием распространенности этих понятий является многообразие их значений и интерпретаций в различных областях деятельности. Приведем здесь одну из интерпретаций, которой будем в дальнейшем придерживаться (\ref{ris:data_info_chart_1}. ). 

\begin{figure}[h!]
	\begin{center}
		\input{pics/data_info_chart_1}
		\caption{Связь данных и информации}
		\label{ris:data_info_chart_1}
	\end{center}
\end{figure}

Под данными мы будем понимать совокупность сведений, зафиксированных на определенном носителе в форме пригодной для постоянного хранения обработки и интерпретации. Например замеры давления на приеме УЭЦН записанные в базу данных - это данные. Главное, что они записаны и к ним можно получить доступ при необходимости. 
Под информацией мы будем понимать результат преобразования и анализа данных направленный на практическую деятельность -- на принятие решений. Хотя информация должна обрести некоторую форму представления, то есть превратиться в данные, чтобы ей можно было обмениваться, информация есть в первую очередь интерпретация (смысл) такого представления. Информация всегда привязана к практической деятельности. Без применения, хотя бы потенциального, информация превращается в данные. 

Инженерная деятельность подразумевает постоянные действия для решения поставленных задач. Для нефтяного инжиниринга это эксплуатация месторождений углеводородов -- бурение скважине, проведение геолого-технических мероприятий. Действия или решения требуют необратимой траты ресурсов -- времени, материалов, денег. Из за ограниченности ресурсов возникает необходимость тщательного планирования действий -- принятия решений о необходимости действий. Мы часто будем использовать термин принятие решений и говорить о лице принимающем решение (ЛПР) для обозначения практической деятельности. Принятие решений -- это тот рубеж, который является целью исследований. Для принятия решений строятся модели, собираются данные и генерируется информация. 


Цепочку связи данных, информации и принятия решений можно отобразить схеме (рисунок  \ref{ris:data_info_decision_chart_1}). 

\begin{figure}[h!]
	\begin{center}
		\input{pics/data_info_decision_chart_1}
		\caption{Связь данных, информации и принятия решений}
		\label{ris:data_info_decision_chart_1}
	\end{center}
\end{figure}

Схема показывает, что информация напрямую связана с принятием решений. Если мы не понимаем зачем необходима информация -- на принятие какого решения она работает, то она может оказаться бессмысленной. В приведенной схеме процесс преобразования данных в информацию можно назвать исследованием. 
Цель исследования -- обеспечить процесс принятия решений информаций. И аналогично информации -- исследование имеет смысл только если направлено на принятие решений. 
\marginpar{
	\href{https://ru.wikipedia.org/wiki/исследование}{Исследование} 
	\includegraphics[scale=0.4]{pics/qr_wikipedia_investigation.png} } 
Схему можно еще дополнить добавив в нее инструмент для преобразования данных в информацию и принятия решений на основе информации -- модель. Чаще всего имеются в виду математические модели в виде компьютерных алгоритмов. Именно их мы будет использовать, но на их месте могут быть и другие модели (например интуиция лица принимающего решения или его опыт). 

\begin{figure}[h!]
	\begin{center}
		\input{pics/data_model_chart_1}
		\caption{Связь данных, информации, принятия решений и моделирования}
		\label{ris:data_model_chart_1}
	\end{center}
\end{figure}

Именно такого подхода мы будем придерживаться в курсе и данном пособии. Такое определение, хотя и несколько отличается от классических, обладает рядом преимуществ. Например позволяет оценить когда надо проводить исследования и сколько ресурсов на них можно потратить или увидеть как можно некоторые виды деятельности, изначально не направленные на получение информации, рассматривать в качестве исследований и извлечь из них дополнительную ценность.
 \marginpar{
 	\href{https://www.gazprom-neft.ru/press-center/sibneft-online/archive/2018-may/1589542/} {Газпром нефть. Цифровизация — это фундаментальный тренд}.
 	\includegraphics[scale=0.4]{pics/qr_digitalization.png} }  
Например с развитием информационных технологий в нефтедобычи все больше информации о нормальной эксплуатации скважины накапливается в базах данных добывающих компаний. Эти данные содержат информацию о том как работают скважины и месторождения. Если их рассмотреть как исследования -- их можно преобразовать в информацию и использовать ее для принятия решений, например о проведении ГТМ, без необходимости траты ресурсов на проведение классических исследований. Это направление сейчас активно развивается в нефтяной промышленности под знаменами цифровизации и в рамках курса будет неоднократно обсуждаться.



\section{Зачем проводить исследования?}

Хорошим вопросом касательно любых исследований и даже шире - любых расчетов и моделей - является вопрос - зачем всем этим надо заниматься. Можно придумать много ответов. Часто говорят: чтобы лучше изучить месторождение; чтобы определить параметры месторождения или скважины; чтобы рассчитать оптимальный режим работы скважины. Такие ответы верны, но в тоже время слишком расплывчаты. Попробуйте поставить себя на место главного инженера добывающего предприятия и оценить -- выделили бы вы ценные ресурсы молодому специалисту который предлагает вам лучше изучить какую то скважину? Лица принимающие решения любят более конкретные обоснования как правило. 

Один из ответов на вопрос -- "Зачем проводить исследования?" можно получить с использованием понятия ценности информации (Value of Information). 

\marginpar{
        \href{https://ru.wikipedia.org/wiki/ценность_информации}{Ценность информации} 
        \includegraphics[scale=0.4]{pics/qr_wikipedia_VOI.png} 
        }

Согласно упрощенной версии этого подхода можно допустить, что ценность информации полученного в ходе исследования равна разнице в эффективности принятого решения с учетом этой информации и без ее учета. 
$$VOI = EMV_{inf}-EMV_{0}$$

Здесь $VOI$ - ценность информации, $EMV_{inf}$ - ожидаемая ценность принятого решения с учетом информации (estimated monetary value), $EMV_{0}$ - ожидаемая ценность принятого решения без учета информации.

То есть ценность исследования, а следовательно и целесообразность его проведения (затрат ресурсов на его проведение) целиком зависит от эффективности принятых решений. 

Такой подход является явным упрощением. По приведенным ссылкам можно найти и другие подходы, где в частности предлагается учесть и менее явные последствия. Но его преимущество как раз в простоте. Он позволяет количественно оценить эффект от проведения исследований, соотнести его с затратами на проведение исследований и построить критерий принятия решений, который уже можно далее обсуждать и улучшать. 

Существует много подходов к построению критерия принятия решений о необходимости проведения исследований [ссылка на making good decisions]. Мы рассмотрим один из них, широко применяемый в различных областях деятельности, особенной в экономике и компьютерных науках - метод построения деревьев решений. \cite{AL_appl_patt_2007}

\section{Деревья решений для планирования исследований}

% translation from https://github.com/SilverDecisions/SilverDecisions/wiki/1.-Decision-tree-model
Последовательность и неопределенность присущи практическому принятию решений. Первое означает, что лица, принимающие решения, должны рассматривать многоступенчатые стратегии, охватывающие несколько действий, следующих друг за другом, а не только одно действие. Вторая означает, что отдача, получаемая лицами, принимающими решения, зависит не только от действий, но и от внешних событий ( состояний мира), которые часто могут быть восприняты как случайные. Действия и реакции обычно переплетаются, что еще больше усложняет картину. Деревья решений используются в качестве модели, помогающей обнаружить, понять и передать структуру таких проблем, связанных с принятием решений.

Ниже представлено простое дерево решений, созданное с помощью программы SilverDecisions (файл SilverDecisions, содержащий это дерево, можно запустить \href{http://silverdecisions.pl/SilverDecisions.html?LOAD_SD_TREE_JSON=https://raw.githubusercontent.com/gubkin-rienm/isp/master/data/decision_tree/simple_invest_decision.json}{здесь}).
\marginpar{
        ссылку там есть - надо сделать QR на нее
        }
%\urldef{\myurl}{http://silverdecisions.pl/SilverDecisions.html?LOAD_SD_TREE_JSON=https://raw.githubusercontent.com/gubkin-rienm/isp/master/data/decision_tree/simple_invest_decision.json}

\begin{figure}[h!]
	\includegraphics[width= 15cm]{pics/simple_decision_tree_1.png} 
	\label{fig:sample}
	\caption{Простое дерево решений}
\end{figure}

Модель дерева решений описывает и визуализирует последовательность принятия решения в условиях неопределенности на древовидной диаграмме. Это означает, что деревья решений могут быть полезны в таких задачах:
\begin{itemize}
    \item лицо, принимающее решение, выполняет несколько действий, следуя друг за другом,
    \item состояния мира могут различаться в зависимости от уже принятых решений,
    \item некоторые решения могут привести к более точным оценкам вероятности этих состояний.
\end{itemize}

На древовидной диаграмме представлены возможные решения, которые необходимо принять, независимые события, которые могут произойти, и результаты, связанные с комбинациями этих решений и событий. Необходимо определить два параметра: вероятности событий и их значения или стоимости. Первый параметр представляет вероятность получения определенного состояния мира. Поскольку возможные состояния мира в рамках одной реакции на самом деле являются конкурирующими событиями, сумма их вероятностей должна быть равна 1. 
Тогда значения или стоимости, выраженные в некоторой шкале, например в деньгах, означают платежи (изменение стоимости) как следствие решения или состояния мира. 
Это может быть как прибыль, так и убытки. Модель дерева решений включает еще одно понятие: EMV - ожидаемая значение или ожидаемая ценность (или ожидаемая полезность). Она вычисляется как вероятностно-взвешенное среднее значений для конкурирующих наборов решений и событий. Ожидаемое значение EMV показывает, сколько человек может заработать или потерять, принимая оптимальные решения (это означает такие решения, которые максимизируют прибыль и минимизируют убытки). Наконец, результат, связанный с решениями и событиями, представляет собой общее последствие набора решений и событий во всем процессе принятия решения. Он может быть истолкован как отдача лица, принимающего решение - результат как его решений, так и произошедших независимых событий.

Деревья решений с их простой для понимания структурой являются отличным инструментом для решения задач анализа. Они позволяют исследовать возможные результаты принятия решений и помогают выбирать между различными направлениями действий. Основной целью модели дерева решений является определение наилучшей возможной политики, которая представляет собой наибольшую отдачу или наименьший убыток.


Дерево решений строится по направленному графику слева направо, с набором узлов, которые разбиваются на три разрозненных множества:
\begin{itemize}
    \item узлы решения - типично представленные в виде квадратов,
    \item случайные узлы, представленные в виде кругов,
    \item терминальные узлы представлены в виде треугольников.
\end{itemize}

Крайняя левая вершина называется корневой вершиной и является первой вершиной принятия решения (первый красный квадрат слева - см. выше простую модель принятия инвестиционного решения - рисунок \ref{fig:sample} ). В узлах принятия решений выбирает именно тот, кто принимает решение, т.е. выбирает ровно одну из ветвей, выходящих из этого узла. Эти ветви представляют собой набор доступных альтернатив решения (действий). В случайном узле (желтые кружки - дерево образцов выше) каждая из вытекающих из него ребер - реакция - выбирается случайным образом с заданной вероятностью события. Терминальные узлы (синие треугольники на дереве выборки выше) представляют собой результат последовательности действий/реакций от корневого узла к данному конкретному терминальному узлу. Терминальный узел является конечной точкой: никакие решения не могут быть приняты, и никакие события не могут произойти после этого.

В приложении SilverDecisions вероятность событий и значения, связанные с этими событиями или решениями, определяются по краям. Ожидаемые значения, рассчитанные для каждого набора решений/событий, отображаются в каждом узле решения/шанса, а терминальные узлы показывают результаты и вероятности того, что событие окажется в указанном терминальном узле.

Обратите внимание, что каждое ребро совмещается с двумя узлами: левый, из которого выходит ребро, называется родительским узлом, а второй, находящийся справа, называется дочерним узлом. Поддерево - это еще один термин, связанный с деревьями решений - оно представляет собой ту часть дерева, которая начинается в любом дочернем узле, и каждый из них вместе с любыми потомками образует поддерево. Например, поддерево, уставившееся в корневой узел, представляет собой целое дерево.




